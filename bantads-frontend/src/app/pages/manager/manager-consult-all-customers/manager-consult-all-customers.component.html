<div class="card m-2">
  <div class="card-header">
    <h4 class="text-center">Consultar Todos os Clientes</h4>
  </div>

  <div class="row my-2 mx-1">
    <div class="col-10">
      <input
        type="text"
        class="form-control"
        placeholder="Pesquisar por CPF ou Nome"
        [(ngModel)]="searchQuery"
        [mask]="mask"
        [showMaskTyped]="true"
        (ngModelChange)="onInputChange($event)"
      />
    </div>
    <div class="col-2">
      <button class="btn btn-primary" (click)="searchClients()">
        Pesquisar
      </button>
    </div>
  </div>
  
  <table [hidden]="clientData ? false : true" class="table table-striped">
    <thead>
      <tr>
        <th>CPF</th>
        <th>Nome</th>
        <th>Cidade</th>
        <th>Estado</th>
        <th>Saldo</th>
        <th>Detalhes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let client of clientData">
        <td>{{ client.cpf | cpf}}</td>
        <td >{{ client.name }}</td>
        <td>{{client.address.city}}</td>
        <td>{{client.address.state}}</td>
        <td>0</td>
        <td>
          <button class="btn btn-primary" (click)="viewMoreDetails(client.cpf)">
            Ver mais
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="!clientData" class="container-fluid">
    <div class="d-flex px-4 py-5 px-md-5 text-center w-90 bg-danger text-white">
      Nenhuma conta registrada!
    </div>
  </div>
</div>
